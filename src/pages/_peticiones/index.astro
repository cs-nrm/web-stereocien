---
import BaseHead from '../../components/BaseHead.astro';
import Header from '../../components/Header.astro';
import Footer from '../../components/Footer.astro';
import { SITE_TITLE, SITE_DESCRIPTION } from '../../consts';
import DoubleBox from '../../components/DoubleBox.astro';
import BoxBanner from '../../components/BoxBanner.astro';

//const res = await fetch("https://beatdigital.mx/wp-json/wp/v2/posts?_embed&per_page=9&_fields=title,slug,yoast_head_json,categories&categories=149");
//const posts = await res.json();

---

<!doctype html>
<html lang="es">
	<head>
		<BaseHead title={SITE_TITLE} seccion="Peticiones" description={SITE_DESCRIPTION} />
		 <meta charset="utf-8"/>
	</head>
	<body>
		<Header title={SITE_TITLE} />
		<main>
            <div class="container my-12 mx-auto px-4 md:px-12">
				<h1 class="py-4 font-bold [text-shadow:2px_4px_2px_rgb(88_29_135_/_64%)]">Peticiones</h1>
                <div class="flex flex-col lg:flex-row">
                    <div class="sm:min-w-[calc(100%-400px)] lg:mr-10">
                        <div class="bg-[#a8d1d9] text-2xl text-[#063d46] font-bold rounded-md mb-4 p-4">
                        Haz que tu artista favorito suene en Oye, regístrate y envía tu petición.
                        </div>
                        <iframe class="rounded-md" src="https://beatdigital.mx/registrate-aqui-peticiones/" width="100%" height="800px" scrolling="yes" ></iframe>
                    </div>
                    <div class="bg-gray-300 p-5 rounded-md sm:min-w-[350px] relative text-center md:text-left">
                        <div class="sticky top-0 left-0 right-0">
                            <h3 class="text-xl text-black font-extrabold">PUBLICIDAD</h3>
                            <BoxBanner />
                            </br>
                            <DoubleBox />
                        </div>
                    </div>
                </div>

            </div>
		</main>
		<Footer />
	</body>
</html>

<style>
    figure {
        aspect-ratio: 8 / 5;
        --bg: hsl(330 80% calc(90% - (var(--hover) * 10%)));
        --accent: hsl(280 80% 40%);
        --bg: hsl(330 80% calc(56% - (var(--hover) * 10%)));
        --bg: hsl(260 340% calc(90% - (var(--hover) * 10%)));
        --accent: hsl(180 77% 40%);
        transition: background 0.2s;
        background:
            radial-gradient(circle at top left, var(--accent), transparent 75%),
            var(--bg);
        margin: 0;
        position: relative;
        overflow: hidden;
        border-radius: 1.5rem;
    }

    figure:after {
        content: "";
        position: absolute;
        width: 20%;
        aspect-ratio: 1;
        border-radius: 50%;
        bottom: 0%;
        left: 10%;
        background: linear-gradient(-65deg, var(--bg) 50%, var(--accent) 50%);
        filter: blur(25px);
        transform:
            translateX(calc(var(--hover) * 15%))
            scale(calc(1 + (var(--hover) * 0.2)));
        transition: transform 0.2s, background 0.2s;
    }

    h2{
        font-weight: bold;
        text-align: center;
    }

    p{
        color: #570757;
        text-align: center;
    }

    img {
    position: absolute;
    left: 20%;
    top: 15%;
    width: 40%;
    transform:
        translateX(calc(var(--hover) * -15%))
        scale(calc(1 + (var(--hover) * 0.2)));
    transition: transform 0.2s;
    }

    article {
    --hover: 0;
    }

    article:hover {
    --hover: 1;
    }
</style>